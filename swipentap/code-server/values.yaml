# Default values for code-server (VS Code in browser + Continue + Ollama)
replicaCount: 1

image:
  repository: codercom/code-server
  tag: "4.108.0"
  pullPolicy: IfNotPresent

nameOverride: ""
fullnameOverride: ""

service:
  type: ClusterIP
  port: 8080

# Continue.dev + Ollama (in-cluster)
continue:
  enabled: true
  ollamaApiBase: "http://ollama.ollama.svc.cluster.local:11434"
  model: "llama3.2:3b"
  tabAutocompleteModel: "llama3.2:3b"
  embeddingsModel: "nomic-embed-text"

# Install Continue extension via init container (uses data volume)
continueInstallExtension: true

ingress:
  enabled: false

extraArgs: []
extraVars: []

volumePermissions:
  enabled: true
  securityContext:
    runAsUser: 0

securityContext:
  enabled: true
  fsGroup: 1000
  runAsUser: 1000

resources:
  requests:
    memory: "512Mi"
    cpu: 250m
  limits:
    memory: "2Gi"
    cpu: "1"

persistence:
  enabled: true
  accessMode: ReadWriteOnce
  size: 10Gi

livenessProbe:
  enabled: true
readinessProbe:
  enabled: true

extraConfigmapMounts: []
extraSecretMounts: []
extraVolumeMounts: []
extraContainers: ""

# extraInitContainers: set by umbrella for Continue extension install
extraInitContainers: ""

lifecycle:
  enabled: false

nodeSelector: {}
tolerations: []
affinity: {}

serviceAccount:
  create: true
  name: ""

annotations: {}
podAnnotations: {}
podSecurityContext: {}
priorityClassName: ""
hostnameOverride: ""
imagePullSecrets: []
existingSecret: ""
extraPorts: []
